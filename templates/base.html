<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Storage</title>
  <link href="{{ url_for('static', path='/bootstrap-5.3.1-dist/css/bootstrap.min.css') }}"
        rel="stylesheet">
  <link rel="icon" href="{{ url_for('static', path='/icons/logo.png') }}">
  {% block head %}{% endblock %}
</head>
<body>
<div class="container">
  <nav class="navbar navbar-expand-lg bg-body-tertiary sticky-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="{{ url_for('tiles') }}">
        <img src="{{ url_for('static', path='/icons/logo.png') }}" alt="Logo" height="24" class="d-inline-block align-text-top">
        Storage
      </a>
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"></ul>
      <div class="d-flex">
        <button class="btn btn-sm btn-outline-dark me-2" data-bs-toggle="modal" data-bs-target="#new-folder-modal" id="btn-new-folder">New Folder</button>
        <button class="btn btn-sm btn-outline-success me-2" data-bs-toggle="modal" data-bs-target="#add-files-modal" id="btn-add-files">Add Files</button>
        <button class="btn btn-sm btn-danger me-2 d-none" id="btn-delete-selected">Delete Selected</button>
        <button class="btn btn-sm btn-outline-dark me-2 d-none" id="btn-select-all">Select All</button>
        <button class="btn btn-sm btn-outline-dark d-none" id="btn-cancel-selecting">Cancel</button>
      </div>
    </div>
  </nav>
  {% if request.session["messages"] %}
    {% for i in range(request.session["messages"]|length) %}
      {% set msg = request.session["messages"].pop() %}
      <div id="alerts" class="alert alert-dismissible fade show alert-{{ msg['type'] }}" role="alert">
        {{ msg['message'] }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}

  {% block body %}{% endblock %}

  <div class="modal" tabindex="-1" id="new-folder-modal">
    <div class="modal-dialog">
      <div class="modal-content">
        <form method="post" action="{{ url_new_folder }}">
          <div class="modal-body mt-3">
            <input class="form-control form-control-lg" type="text" name="name" maxlength="100" minlength="1"
                   placeholder="New folder name">
          </div>
          <div class="modal-footer" style="border-top: none;">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="modal" tabindex="-1" id="add-files-modal">
    <div class="modal-dialog">
      <div class="modal-content">
        <form method="post" action="{{ url_add_files }}" enctype="multipart/form-data" >
          <div class="modal-body mt-3">
            <input class="form-control" type="file" name="files" multiple>
          </div>
          <div class="modal-footer" style="border-top: none;">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<script
  src="{{ url_for('static', path='/bootstrap-5.3.1-dist/js/bootstrap.bundle.min.js') }}"></script>
</body>
</html>